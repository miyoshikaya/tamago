'use strict';var _createClass=function(){function a(b,c){for(var e,d=0;d<c.length;d++)e=c[d],e.enumerable=e.enumerable||!1,e.configurable=!0,'value'in e&&(e.writable=!0),Object.defineProperty(b,e.key,e)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_react=require('react'),_react2=_interopRequireDefault(_react),_propTypes=require('prop-types'),_propTypes2=_interopRequireDefault(_propTypes);Object.defineProperty(exports,'__esModule',{value:!0});function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a}function _inherits(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var Timer=function(a){function b(c){_classCallCheck(this,b);var d=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c));return d.state={hours:c.prefixZero?d.convertSingleToDoubleDigit(c.hours||'00'):c.hours||0,minutes:c.prefixZero?d.convertSingleToDoubleDigit(c.minutes||'00'):c.minutes||0,seconds:c.prefixZero?d.convertSingleToDoubleDigit(c.seconds||'00'):c.seconds||0,backward:d.props.backward||!1,stopHours:+c.stopHours||0,stopMinutes:+c.stopMinutes||0,stopSeconds:+c.stopSeconds||0,showHours:c.showHours,showMinutes:c.showMinutes,showSeconds:c.showSeconds,label:c.label,endLabel:c.endLabel,prefixZero:c.prefixZero,infinityTimer:!0},d.handleCallback=d.handleCallback.bind(d),d}return _inherits(b,a),_createClass(b,[{key:'handleCallback',value:function handleCallback(){this.props.callback&&this.props.callback()}},{key:'convertSingleToDoubleDigit',value:function convertSingleToDoubleDigit(c){return 9>=+c?'0'+ +c:+c}},{key:'tick',value:function tick(){var c=this;+this.state.hours!==+this.state.stopHours||+this.state.minutes!==+this.state.stopMinutes||+this.state.seconds!==+this.state.stopSeconds||this.state.infinityTimer?59===+this.state.seconds&&59===+this.state.minutes?this.setState(function(d){return{hours:d.prefixZero?c.convertSingleToDoubleDigit(+d.hours+1):+d.hours+1,minutes:d.prefixZero?'00':0,seconds:d.prefixZero?'00':0}}):59===+this.state.seconds?this.setState(function(d){return{minutes:d.prefixZero?c.convertSingleToDoubleDigit(+d.minutes+1):+d.minutes+1,seconds:d.prefixZero?'00':0}}):this.setState(function(d){return{seconds:d.prefixZero?c.convertSingleToDoubleDigit(+d.seconds+1):+d.seconds+1}}):(clearInterval(this.interval),this.handleCallback())}},{key:'backwardTick',value:function backwardTick(){var c=this;+this.state.hours!==+this.state.stopHours||+this.state.minutes!==+this.state.stopMinutes||+this.state.seconds!==+this.state.stopSeconds?0===+this.state.seconds&&0===+this.state.minutes?this.setState(function(d){return{hours:c.convertSingleToDoubleDigit(+d.hours-1),minutes:59,seconds:59}}):0===+this.state.seconds?this.setState(function(d){return{minutes:c.convertSingleToDoubleDigit(+d.minutes-1),seconds:59}}):this.setState(function(d){return{seconds:c.convertSingleToDoubleDigit(+d.seconds-1)}}):(clearInterval(this.interval),this.handleCallback())}},{key:'componentDidMount',value:function componentDidMount(){var k=this,_state=this.state,c=_state.stopHours,d=_state.stopMinutes,e=_state.stopSeconds,f=_state.backward,g=_state.seconds,h=_state.hours,j=_state.minutes;if((f||c||d||e)&&this.setState({infinityTimer:!1}),!(59>d&&0<=d&&59>e&&0<=e&&0<=c))throw new Error('Invalid Stop seconds or Minutes');else if(!this.state.backward)this.interval=setInterval(function(){return k.tick()},1e3);else if(e<=g&&c<=h&&d<=j)this.interval=setInterval(function(){return k.backwardTick()},1e3);else throw new Error('Invalid Stop seconds or Minutes || stop minutes|seconds|hours should less than or equals to seconds|minutes|hours ')}},{key:'componentWillUnmount',value:function componentWillUnmount(){clearInterval(this.interval)}},{key:'render',value:function render(){return _react2.default.createElement('div',null,this.state.label&&this.state.label,this.state.showHours&&_react2.default.createElement('span',null,this.state.hours,':'),this.state.showMinutes&&_react2.default.createElement('span',null,this.state.minutes,':'),this.state.showSeconds&&_react2.default.createElement('span',null,this.state.seconds),this.state.endLabel&&this.state.endLabel)}}]),b}(_react2.default.Component);exports.default=Timer,Timer.defaultProps={showHours:!0,showMinutes:!0,showSeconds:!0,prefixZero:!0},Timer.propTypes={callback:_propTypes2.default.func,label:_propTypes2.default.node,endLabel:_propTypes2.default.node,backward:_propTypes2.default.bool,showHours:_propTypes2.default.bool,showMinutes:_propTypes2.default.bool,showSeconds:_propTypes2.default.bool,prefixZero:_propTypes2.default.bool,hours:_propTypes2.default.number,minutes:_propTypes2.default.number,seconds:_propTypes2.default.number,stopHours:_propTypes2.default.number,stopMinutes:_propTypes2.default.number,stopSeconds:_propTypes2.default.number};