{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"D:\\\\uni\\\\tamago\\\\ui\\\\src\\\\components\\\\HomePage\\\\PetSection\\\\PetCard\\\\PetCard.js\";\nimport React from 'react';\nimport './petcard.css';\nimport { firebase } from '../../../../firebase';\nimport { db } from '../../../../firebase';\nimport PetItems from './PetItems/PetItems.js';\nimport PetPic from './PetPic/PetPic.js';\nimport PlayButtons from './PlayButtons/PlayButtons.js';\nimport PlayTimer from './CountdownTimers/PlayTimer.js';\nimport FoodTimer from './CountdownTimers/FoodTimer.js';\nimport WashTimer from './CountdownTimers/WashTimer.js';\nimport MusicTimer from './CountdownTimers/MusicTimer.js';\n\nvar PetCard =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PetCard, _React$Component);\n\n  function PetCard(props) {\n    var _this;\n\n    _classCallCheck(this, PetCard);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PetCard).call(this, props));\n    _this._isMounted = false;\n\n    _this.deadPet = function (reason) {\n      _this.setState({\n        alive: false\n      });\n\n      alert('Your pet is dead :( It died because of ' + reason + '.');\n    };\n\n    _this.state = {\n      user: null,\n      timers: null,\n      pet: '',\n      playItems: 5,\n      foodItems: 5,\n      washItems: 5,\n      musicItems: 5,\n      resetCountdown: false,\n      countdownTime: 400,\n      restartPlay: false,\n      restartFood: false,\n      restartWash: false,\n      restartMusic: false,\n      timeStamp: Math.floor(Date.now() / 1000),\n      alive: true\n    };\n    _this.getItemClick = _this.getItemClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.restartPlayTimer = _this.restartPlayTimer.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.restartFoodTimer = _this.restartFoodTimer.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.restartWashTimer = _this.restartWashTimer.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.restartMusicTimer = _this.restartMusicTimer.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(PetCard, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      console.log(this.state.timeStamp);\n      this._isMounted = true;\n    }\n  }, {\n    key: \"setNewTimers\",\n    value: function setNewTimers() {\n      var timeStamp = this.state.timeStamp;\n      var newTimerPlay = this.state.user.timers[0].timer;\n      var newTimerFood = this.state.user.timers[1].timer;\n      var newTimerWash = this.state.user.timers[2].timer;\n      var newTimerMusic = this.state.user.timers[3].timer;\n      var timestampPlay = this.state.user.timers[0].timestamp;\n      var timestampFood = this.state.user.timers[1].timestamp;\n      var timestampWash = this.state.user.timers[2].timestamp;\n      var timestampMusic = this.state.user.timers[3].timestamp;\n      var diffPlay = timeStamp - timestampPlay;\n      var diffFood = timeStamp - timestampFood;\n      var diffWash = timeStamp - timestampWash;\n      var diffMusic = timeStamp - timestampMusic;\n      var newTimers = [];\n      newTimers.push(Math.max(newTimerPlay - diffPlay, 0));\n      newTimers.push(Math.max(newTimerFood - diffFood, 0));\n      newTimers.push(Math.max(newTimerWash - diffWash, 0));\n      newTimers.push(Math.max(newTimerMusic - diffMusic, 0));\n      console.log(newTimers);\n      db.setTimeStamps(firebase.auth.currentUser.uid, newTimers, timeStamp);\n    }\n  }, {\n    key: \"getUserData\",\n    value: function () {\n      var _getUserData = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var _this2 = this;\n\n        var user;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                user = db.onceGetUser(firebase.auth.currentUser.uid).then(function (snapshot) {\n                  return snapshot.val();\n                });\n                _context.next = 3;\n                return user.then(function (value) {\n                  _this2.setState({\n                    user: value\n                  });\n                });\n\n              case 3:\n                this.setNewTimers();\n                user = db.onceGetUser(firebase.auth.currentUser.uid).then(function (snapshot) {\n                  return snapshot.val();\n                });\n                _context.next = 7;\n                return user.then(function (value) {\n                  _this2.setState({\n                    user: value\n                  });\n                });\n\n              case 7:\n                console.log(this.state.user);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function getUserData() {\n        return _getUserData.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getUserData();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.setNewTimers();\n      this.setState({\n        user: null\n      });\n    }\n  }, {\n    key: \"addItems\",\n    value: function addItems(n, itemName) {\n      switch (itemName) {\n        case 'play':\n          this.setState({\n            playItems: this.state.playItems + n\n          });\n          console.log(this.state.playItems);\n          break;\n\n        case 'food':\n          this.setState({\n            foodItems: this.state.foodItems + n\n          });\n          break;\n\n        case 'wash':\n          this.setState({\n            washItems: this.state.washItems + n\n          });\n          break;\n\n        case 'music':\n          this.setState({\n            musicItems: this.state.musicItems + n\n          });\n          break;\n\n        default:\n          break;\n      }\n    }\n  }, {\n    key: \"getItemClick\",\n    value: function () {\n      var _getItemClick = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(itemType) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.t0 = itemType;\n                _context2.next = _context2.t0 === 'play' ? 3 : _context2.t0 === 'food' ? 11 : _context2.t0 === 'wash' ? 18 : _context2.t0 === 'music' ? 25 : 32;\n                break;\n\n              case 3:\n                if (!(this.state.playItems > 0)) {\n                  _context2.next = 9;\n                  break;\n                }\n\n                _context2.next = 6;\n                return this.setState({\n                  playItems: this.state.playItems - 1,\n                  restartPlay: true\n                });\n\n              case 6:\n                //here countdown timer reset (SEND DATA TO COMPONENT) \n                console.log(this.state.restartPlay);\n                _context2.next = 10;\n                break;\n\n              case 9:\n                alert(\"You have 0 ⚾!\");\n\n              case 10:\n                return _context2.abrupt(\"break\", 33);\n\n              case 11:\n                if (!(this.state.foodItems > 0)) {\n                  _context2.next = 16;\n                  break;\n                }\n\n                _context2.next = 14;\n                return this.setState({\n                  foodItems: this.state.foodItems - 1,\n                  restartFood: true\n                });\n\n              case 14:\n                _context2.next = 17;\n                break;\n\n              case 16:\n                alert(\"You have 0 🍌!\");\n\n              case 17:\n                return _context2.abrupt(\"break\", 33);\n\n              case 18:\n                if (!(this.state.washItems > 0)) {\n                  _context2.next = 23;\n                  break;\n                }\n\n                _context2.next = 21;\n                return this.setState({\n                  washItems: this.state.washItems - 1,\n                  restartWash: true\n                });\n\n              case 21:\n                _context2.next = 24;\n                break;\n\n              case 23:\n                alert(\"You have 0 💦!\");\n\n              case 24:\n                return _context2.abrupt(\"break\", 33);\n\n              case 25:\n                if (!(this.state.musicItems > 0)) {\n                  _context2.next = 30;\n                  break;\n                }\n\n                _context2.next = 28;\n                return this.setState({\n                  musicItems: this.state.musicItems - 1,\n                  restartMusic: true\n                });\n\n              case 28:\n                _context2.next = 31;\n                break;\n\n              case 30:\n                alert(\"You have 0 🎹!\");\n\n              case 31:\n                return _context2.abrupt(\"break\", 33);\n\n              case 32:\n                return _context2.abrupt(\"break\", 33);\n\n              case 33:\n                console.log('hello');\n                _context2.t1 = itemType;\n                _context2.next = _context2.t1 === 'play' ? 37 : _context2.t1 === 'food' ? 45 : _context2.t1 === 'wash' ? 53 : _context2.t1 === 'music' ? 60 : 67;\n                break;\n\n              case 37:\n                if (!(this.state.playItems > 0)) {\n                  _context2.next = 43;\n                  break;\n                }\n\n                _context2.next = 40;\n                return this.setState({\n                  playItems: this.state.playItems - 1,\n                  restartPlay: true\n                });\n\n              case 40:\n                //here countdown timer reset (SEND DATA TO COMPONENT) \n                console.log(this.state.restartPlay);\n                _context2.next = 44;\n                break;\n\n              case 43:\n                alert(\"You have 0 ⚾!\");\n\n              case 44:\n                return _context2.abrupt(\"break\", 68);\n\n              case 45:\n                if (!(this.state.foodItems > 0)) {\n                  _context2.next = 51;\n                  break;\n                }\n\n                _context2.next = 48;\n                return this.setState({\n                  foodItems: this.state.foodItems - 1,\n                  restartFood: true\n                });\n\n              case 48:\n                console.log('food');\n                _context2.next = 52;\n                break;\n\n              case 51:\n                alert(\"You have 0 🍌!\");\n\n              case 52:\n                return _context2.abrupt(\"break\", 68);\n\n              case 53:\n                if (!(this.state.washItems > 0)) {\n                  _context2.next = 58;\n                  break;\n                }\n\n                _context2.next = 56;\n                return this.setState({\n                  washItems: this.state.washItems - 1,\n                  restartWash: true\n                });\n\n              case 56:\n                _context2.next = 59;\n                break;\n\n              case 58:\n                alert(\"You have 0 💦!\");\n\n              case 59:\n                return _context2.abrupt(\"break\", 68);\n\n              case 60:\n                if (!(this.state.musicItems > 0)) {\n                  _context2.next = 65;\n                  break;\n                }\n\n                _context2.next = 63;\n                return this.setState({\n                  musicItems: this.state.musicItems - 1,\n                  restartMusic: true\n                });\n\n              case 63:\n                _context2.next = 66;\n                break;\n\n              case 65:\n                alert(\"You have 0 🎹!\");\n\n              case 66:\n                return _context2.abrupt(\"break\", 68);\n\n              case 67:\n                return _context2.abrupt(\"break\", 68);\n\n              case 68:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function getItemClick(_x) {\n        return _getItemClick.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"restartPlayTimer\",\n    value: function restartPlayTimer() {\n      this.setState({\n        restartPlay: false\n      });\n    }\n  }, {\n    key: \"restartFoodTimer\",\n    value: function restartFoodTimer() {\n      this.setState({\n        restartFood: false\n      });\n    }\n  }, {\n    key: \"restartWashTimer\",\n    value: function restartWashTimer() {\n      this.setState({\n        restartWash: false\n      });\n    }\n  }, {\n    key: \"restartMusicTimer\",\n    value: function restartMusicTimer() {\n      this.setState({\n        restartMusic: false\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.user !== null) {\n        return React.createElement(\"div\", {\n          className: \"centered-study\",\n          id: \"mainWrap\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 293\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"half\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 294\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          id: \"countersWrapperCard\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 295\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"two-timers\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 296\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"timer\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 297\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 298\n          },\n          __self: this\n        }, \"Time to next playtime:\"), React.createElement(\"div\", {\n          className: \"countdown\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 299\n          },\n          __self: this\n        }, React.createElement(PlayTimer, {\n          restart: this.state.restartPlay,\n          pls: this.restartPlayTimer,\n          petDied: this.deadPet,\n          alive: this.state.alive,\n          seconds: this.state.user.timers[0].timer,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 300\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"timer\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 308\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 309\n          },\n          __self: this\n        }, \"Time to next feeding:\"), React.createElement(\"div\", {\n          className: \"countdown\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 310\n          },\n          __self: this\n        }, React.createElement(FoodTimer, {\n          restart: this.state.restartFood,\n          pls: this.restartFoodTimer,\n          petDied: this.deadPet,\n          alive: this.state.alive,\n          seconds: this.state.user.timers[1].timer,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 311\n          },\n          __self: this\n        })))), React.createElement(\"div\", {\n          className: \"two-timers\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 320\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"timer\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 321\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 322\n          },\n          __self: this\n        }, \"Time to next washing:\"), React.createElement(\"div\", {\n          className: \"countdown\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 323\n          },\n          __self: this\n        }, React.createElement(WashTimer, {\n          restart: this.state.restartWash,\n          pls: this.restartWashTimer,\n          petDied: this.deadPet,\n          alive: this.state.alive,\n          seconds: this.state.user.timers[2].timer,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 324\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"timer\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 332\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 333\n          },\n          __self: this\n        }, \"Time to next music:\"), React.createElement(\"div\", {\n          className: \"countdown\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 334\n          },\n          __self: this\n        }, React.createElement(MusicTimer, {\n          restart: this.state.restartMusic,\n          pls: this.restartMusicTimer,\n          petDied: this.deadPet,\n          alive: this.state.alive,\n          seconds: this.state.user.timers[3].timer,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 335\n          },\n          __self: this\n        })))))), React.createElement(\"div\", {\n          className: \"half purple\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 346\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          id: \"lang-title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 347\n          },\n          __self: this\n        }, React.createElement(PetItems, {\n          play: this.state.playItems,\n          food: this.state.foodItems,\n          wash: this.state.washItems,\n          music: this.state.musicItems,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 348\n          },\n          __self: this\n        }), React.createElement(\"hr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 353\n          },\n          __self: this\n        }), React.createElement(PetPic, {\n          alive: this.state.alive,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 354\n          },\n          __self: this\n        }), React.createElement(\"hr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 355\n          },\n          __self: this\n        }), React.createElement(PlayButtons, {\n          sendItemClick: this.getItemClick,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 356\n          },\n          __self: this\n        }))));\n      } else {\n        return null;\n      }\n    }\n  }]);\n\n  return PetCard;\n}(React.Component);\n\nexport default PetCard;","map":{"version":3,"sources":["D:\\uni\\tamago\\ui\\src\\components\\HomePage\\PetSection\\PetCard\\PetCard.js"],"names":["React","firebase","db","PetItems","PetPic","PlayButtons","PlayTimer","FoodTimer","WashTimer","MusicTimer","PetCard","props","_isMounted","deadPet","reason","setState","alive","alert","state","user","timers","pet","playItems","foodItems","washItems","musicItems","resetCountdown","countdownTime","restartPlay","restartFood","restartWash","restartMusic","timeStamp","Math","floor","Date","now","getItemClick","bind","restartPlayTimer","restartFoodTimer","restartWashTimer","restartMusicTimer","console","log","newTimerPlay","timer","newTimerFood","newTimerWash","newTimerMusic","timestampPlay","timestamp","timestampFood","timestampWash","timestampMusic","diffPlay","diffFood","diffWash","diffMusic","newTimers","push","max","setTimeStamps","auth","currentUser","uid","onceGetUser","then","snapshot","val","value","setNewTimers","getUserData","n","itemName","itemType","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './petcard.css';\r\nimport { firebase } from '../../../../firebase';\r\nimport { db } from '../../../../firebase';\r\n\r\nimport PetItems from './PetItems/PetItems.js';\r\nimport PetPic from './PetPic/PetPic.js';\r\nimport PlayButtons from './PlayButtons/PlayButtons.js';\r\n\r\nimport PlayTimer from './CountdownTimers/PlayTimer.js';\r\nimport FoodTimer from './CountdownTimers/FoodTimer.js';\r\nimport WashTimer from './CountdownTimers/WashTimer.js';\r\nimport MusicTimer from './CountdownTimers/MusicTimer.js';\r\n\r\nclass PetCard extends React.Component {\r\n  _isMounted = false;\r\n  constructor(props) {\r\n    super(props);\r\n\r\n\r\n    this.state = {\r\n      user: null,\r\n      timers: null,\r\n      pet: '',\r\n      playItems: 5,\r\n      foodItems: 5,\r\n      washItems: 5,\r\n      musicItems: 5,\r\n      resetCountdown: false,\r\n      countdownTime: 400,\r\n      restartPlay: false,\r\n      restartFood: false,\r\n      restartWash: false,\r\n      restartMusic: false,\r\n      timeStamp: Math.floor(Date.now() / 1000),\r\n      alive: true,\r\n    }\r\n\r\n    this.getItemClick = this.getItemClick.bind(this);\r\n    this.restartPlayTimer = this.restartPlayTimer.bind(this);\r\n    this.restartFoodTimer = this.restartFoodTimer.bind(this);\r\n    this.restartWashTimer = this.restartWashTimer.bind(this);\r\n    this.restartMusicTimer = this.restartMusicTimer.bind(this);\r\n  }\r\n\r\n  componentWillMount() {\r\n    console.log(this.state.timeStamp);\r\n\r\n    this._isMounted = true;\r\n  }\r\n\r\n  setNewTimers() {\r\n    var timeStamp = this.state.timeStamp;\r\n    var newTimerPlay = this.state.user.timers[0].timer;\r\n    var newTimerFood = this.state.user.timers[1].timer;\r\n    var newTimerWash = this.state.user.timers[2].timer;\r\n    var newTimerMusic = this.state.user.timers[3].timer;\r\n\r\n    var timestampPlay = this.state.user.timers[0].timestamp;\r\n    var timestampFood = this.state.user.timers[1].timestamp;\r\n    var timestampWash = this.state.user.timers[2].timestamp;\r\n    var timestampMusic = this.state.user.timers[3].timestamp;\r\n\r\n    var diffPlay = timeStamp - timestampPlay;\r\n    var diffFood = timeStamp - timestampFood;\r\n    var diffWash = timeStamp - timestampWash;\r\n    var diffMusic = timeStamp - timestampMusic;\r\n\r\n    var newTimers = [];\r\n\r\n    newTimers.push(\r\n      Math.max(newTimerPlay - diffPlay, 0)\r\n    );\r\n    newTimers.push(\r\n      Math.max(newTimerFood - diffFood, 0)\r\n    );\r\n    newTimers.push(\r\n      Math.max(newTimerWash - diffWash, 0)\r\n    );\r\n    newTimers.push(\r\n      Math.max(newTimerMusic - diffMusic, 0)\r\n    );\r\n\r\n    console.log(newTimers);\r\n    db.setTimeStamps(firebase.auth.currentUser.uid, newTimers, timeStamp);\r\n  }\r\n\r\n  async getUserData() {\r\n    var user = db.onceGetUser(firebase.auth.currentUser.uid).then(snapshot => snapshot.val());\r\n    await user.then((value) => {\r\n      this.setState({\r\n        user: value\r\n      })\r\n    });\r\n    this.setNewTimers();\r\n\r\n    var user = db.onceGetUser(firebase.auth.currentUser.uid).then(snapshot => snapshot.val());\r\n    await user.then((value) => {\r\n      this.setState({\r\n        user: value\r\n      })\r\n    });\r\n    console.log(this.state.user);\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    this.getUserData();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.setNewTimers();\r\n    this.setState({\r\n      user: null,\r\n    });\r\n\r\n  }\r\n\r\n  addItems(n, itemName) {\r\n    switch (itemName) {\r\n      case 'play':\r\n        this.setState({\r\n          playItems: this.state.playItems + n,\r\n        });\r\n        console.log(this.state.playItems);\r\n        break;\r\n      case 'food':\r\n        this.setState({\r\n          foodItems: this.state.foodItems + n,\r\n        });\r\n        break;\r\n      case 'wash':\r\n        this.setState({\r\n          washItems: this.state.washItems + n,\r\n        });\r\n        break;\r\n      case 'music':\r\n        this.setState({\r\n          musicItems: this.state.musicItems + n,\r\n        });\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n\r\n  async getItemClick(itemType) {\r\n      switch (itemType) {\r\n\r\n        case 'play':\r\n          if (this.state.playItems > 0) {\r\n            await this.setState({\r\n              playItems: this.state.playItems - 1,\r\n              restartPlay: true,\r\n            });\r\n            //here countdown timer reset (SEND DATA TO COMPONENT) \r\n            console.log(this.state.restartPlay);\r\n          }\r\n          else\r\n            alert(\"You have 0 ⚾!\");\r\n          break;\r\n\r\n        case 'food':\r\n          if (this.state.foodItems > 0) {\r\n            await this.setState({\r\n              foodItems: this.state.foodItems - 1,\r\n              restartFood: true,\r\n            });\r\n          }\r\n          else\r\n            alert(\"You have 0 🍌!\");\r\n          break;\r\n\r\n        case 'wash':\r\n          if (this.state.washItems > 0) {\r\n            await this.setState({\r\n              washItems: this.state.washItems - 1,\r\n              restartWash: true,\r\n            });\r\n          }\r\n          else\r\n            alert(\"You have 0 💦!\");\r\n          break;\r\n\r\n        case 'music':\r\n          if (this.state.musicItems > 0) {\r\n            await this.setState({\r\n              musicItems: this.state.musicItems - 1,\r\n              restartMusic: true,\r\n            });\r\n          }\r\n          else\r\n            alert(\"You have 0 🎹!\");\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n    \r\n    console.log('hello');\r\n\r\n    switch (itemType) {\r\n\r\n      case 'play':\r\n        if (this.state.playItems > 0) {\r\n          await this.setState({\r\n            playItems: this.state.playItems - 1,\r\n            restartPlay: true,\r\n          });\r\n          //here countdown timer reset (SEND DATA TO COMPONENT) \r\n\r\n          console.log(this.state.restartPlay);\r\n        }\r\n        else\r\n          alert(\"You have 0 ⚾!\");\r\n        break;\r\n\r\n      case 'food':\r\n        if (this.state.foodItems > 0) {\r\n          await this.setState({\r\n            foodItems: this.state.foodItems - 1,\r\n            restartFood: true,\r\n          });\r\n          console.log('food');\r\n        }\r\n        else\r\n          alert(\"You have 0 🍌!\");\r\n        break;\r\n\r\n      case 'wash':\r\n        if (this.state.washItems > 0) {\r\n          await this.setState({\r\n            washItems: this.state.washItems - 1,\r\n            restartWash: true,\r\n          });\r\n        }\r\n        else\r\n          alert(\"You have 0 💦!\");\r\n        break;\r\n\r\n      case 'music':\r\n        if (this.state.musicItems > 0) {\r\n          await this.setState({\r\n            musicItems: this.state.musicItems - 1,\r\n            restartMusic: true,\r\n          });\r\n        }\r\n        else\r\n          alert(\"You have 0 🎹!\");\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n\r\n  }\r\n\r\n  restartPlayTimer() {\r\n    this.setState({\r\n      restartPlay: false,\r\n    });\r\n  }\r\n  restartFoodTimer() {\r\n    this.setState({\r\n      restartFood: false,\r\n    });\r\n  }\r\n  restartWashTimer() {\r\n    this.setState({\r\n      restartWash: false,\r\n    });\r\n  }\r\n  restartMusicTimer() {\r\n    this.setState({\r\n      restartMusic: false,\r\n    });\r\n  }\r\n\r\n  deadPet = (reason) => {\r\n    this.setState(\r\n      {\r\n        alive: false,\r\n      },\r\n    )\r\n    alert('Your pet is dead :( It died because of ' + reason + '.');\r\n  }\r\n\r\n\r\n  render() {\r\n    if (this.state.user !== null) {\r\n      return (\r\n        <div className=\"centered-study\" id=\"mainWrap\">\r\n          <div className=\"half\">\r\n            <div id=\"countersWrapperCard\">\r\n              <div className=\"two-timers\">\r\n                <div className=\"timer\">\r\n                  <p>Time to next playtime:</p>\r\n                  <div className=\"countdown\">\r\n                    <PlayTimer\r\n                      restart={this.state.restartPlay}\r\n                      pls={this.restartPlayTimer}\r\n                      petDied={this.deadPet}\r\n                      alive={this.state.alive}\r\n                      seconds={this.state.user.timers[0].timer} />\r\n                  </div>\r\n                </div>\r\n                <div className=\"timer\">\r\n                  <p>Time to next feeding:</p>\r\n                  <div className=\"countdown\">\r\n                    <FoodTimer\r\n                      restart={this.state.restartFood}\r\n                      pls={this.restartFoodTimer}\r\n                      petDied={this.deadPet}\r\n                      alive={this.state.alive}\r\n                      seconds={this.state.user.timers[1].timer} />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"two-timers\">\r\n                <div className=\"timer\">\r\n                  <p>Time to next washing:</p>\r\n                  <div className=\"countdown\">\r\n                    <WashTimer\r\n                      restart={this.state.restartWash}\r\n                      pls={this.restartWashTimer}\r\n                      petDied={this.deadPet}\r\n                      alive={this.state.alive}\r\n                      seconds={this.state.user.timers[2].timer} />\r\n                  </div>\r\n                </div>\r\n                <div className=\"timer\">\r\n                  <p>Time to next music:</p>\r\n                  <div className=\"countdown\">\r\n                    <MusicTimer\r\n                      restart={this.state.restartMusic}\r\n                      pls={this.restartMusicTimer}\r\n                      petDied={this.deadPet}\r\n                      alive={this.state.alive}\r\n                      seconds={this.state.user.timers[3].timer} />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"half purple\">\r\n            <div id=\"lang-title\">\r\n              <PetItems\r\n                play={this.state.playItems}\r\n                food={this.state.foodItems}\r\n                wash={this.state.washItems}\r\n                music={this.state.musicItems} />\r\n              <hr />\r\n              <PetPic alive={this.state.alive} />\r\n              <hr />\r\n              <PlayButtons\r\n                sendItemClick={this.getItemClick} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    else {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n\r\nexport default PetCard;"]},"metadata":{},"sourceType":"module"}