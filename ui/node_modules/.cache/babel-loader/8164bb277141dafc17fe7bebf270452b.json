{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"D:\\\\uni\\\\tamago\\\\ui\\\\src\\\\components\\\\HomePage\\\\TestSection\\\\CardsContainer\\\\CardsContainer.js\";\nimport React, { Component } from 'react';\nimport './cardscontainer.css';\nimport FlashCard from './FlashCard/FlashCard.js';\nimport DrawButton from './DrawButton/DrawButton.js';\nimport FlipButton from './FlipButton/FlipButton.js'; //import firebase from 'firebase/app';\n\nimport 'firebase/firestore';\nimport 'firebase/database'; //import { default as fire } from '../../../../firebase';\n\nimport { db } from '../../../../firebase';\n\nvar CardsContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CardsContainer, _Component);\n\n  function CardsContainer(props) {\n    var _this;\n\n    _classCallCheck(this, CardsContainer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CardsContainer).call(this, props));\n    _this.state = {\n      cards: null,\n      currentCard: null,\n      category: null,\n      currentSide: 'front',\n      user: null,\n      languageIndex: null,\n      addedString: null,\n      categoryIndex: null,\n      categoryString: null,\n      cardString: null,\n      foundIndex: null\n    };\n    _this.updateCard = _this.updateCard.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.turnCard = _this.turnCard.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(CardsContainer, [{\n    key: \"setCardData\",\n    value: function () {\n      var _setCardData = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(Cards) {\n        var card;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.getRandomCard(Cards);\n\n              case 2:\n                card = _context.sent;\n                _context.next = 5;\n                return this.setState({\n                  currentCard: card\n                });\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function setCardData(_x) {\n        return _setCardData.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getUserData\",\n    value: function () {\n      var _getUserData = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var _this2 = this;\n\n        var user;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                user = db.onceGetUser(this.props.uid).then(function (snapshot) {\n                  return snapshot.val();\n                });\n                _context2.next = 3;\n                return user.then(function (value) {\n                  _this2.setState({\n                    user: value\n                  });\n                });\n\n              case 3:\n                console.log(this.state.user);\n\n                if (!(this.state.cards === null)) {\n                  _context2.next = 7;\n                  break;\n                }\n\n                _context2.next = 7;\n                return this.setData();\n\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function getUserData() {\n        return _getUserData.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"setData\",\n    value: function () {\n      var _setData = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3() {\n        var addedString, languageIndex, categoryIndex, categoryString, currentCards, data;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                addedString = \"\";\n                languageIndex = 0;\n                _context3.t0 = this.state.user.language;\n                _context3.next = _context3.t0 === 'Korean' ? 5 : _context3.t0 === 'Japanese' ? 8 : _context3.t0 === 'Polish' ? 11 : 14;\n                break;\n\n              case 5:\n                languageIndex = 0;\n                addedString = \"krn-cards\";\n                return _context3.abrupt(\"break\", 15);\n\n              case 8:\n                languageIndex = 1;\n                addedString = \"jpn-cards\";\n                return _context3.abrupt(\"break\", 15);\n\n              case 11:\n                languageIndex = 2;\n                addedString = \"pln-cards\";\n                return _context3.abrupt(\"break\", 15);\n\n              case 14:\n                return _context3.abrupt(\"break\", 15);\n\n              case 15:\n                _context3.next = 17;\n                return this.setState({\n                  languageIndex: languageIndex,\n                  addedString: addedString\n                });\n\n              case 17:\n                categoryIndex = 0;\n                categoryString = null;\n                _context3.t1 = this.props.cardsCategory;\n                _context3.next = _context3.t1 === 'Animals' ? 22 : _context3.t1 === 'People' ? 26 : _context3.t1 === 'Food' ? 30 : _context3.t1 === 'School' ? 34 : _context3.t1 === 'House' ? 38 : 42;\n                break;\n\n              case 22:\n                console.log(this.props.cardsCategory);\n                categoryIndex = 0;\n                categoryString = addedString + \"-animals\";\n                return _context3.abrupt(\"break\", 44);\n\n              case 26:\n                console.log(this.props.cardsCategory);\n                categoryIndex = 1;\n                categoryString = addedString + \"-people\";\n                return _context3.abrupt(\"break\", 44);\n\n              case 30:\n                console.log(this.props.cardsCategory);\n                categoryIndex = 2;\n                categoryString = addedString + \"-food\";\n                return _context3.abrupt(\"break\", 44);\n\n              case 34:\n                console.log(this.props.cardsCategory);\n                categoryIndex = 3;\n                categoryString = addedString + \"-school\";\n                return _context3.abrupt(\"break\", 44);\n\n              case 38:\n                console.log(this.props.cardsCategory);\n                categoryIndex = 4;\n                categoryString = addedString + \"-house\";\n                return _context3.abrupt(\"break\", 44);\n\n              case 42:\n                console.log(\"null\");\n                return _context3.abrupt(\"break\", 44);\n\n              case 44:\n                _context3.next = 46;\n                return this.setState({\n                  categoryIndex: categoryIndex,\n                  categoryString: categoryString\n                });\n\n              case 46:\n                currentCards = null;\n                data = db.getCards(languageIndex, addedString, categoryIndex, categoryString).then(function (snapshot) {\n                  return snapshot.val();\n                });\n                _context3.next = 50;\n                return data.then(function (value) {\n                  currentCards = value;\n                });\n\n              case 50:\n                console.log(currentCards);\n                _context3.t2 = this;\n                _context3.t3 = currentCards;\n                _context3.t4 = this.props.cardsCategory;\n                _context3.next = 56;\n                return this.getRandomCard(currentCards);\n\n              case 56:\n                _context3.t5 = _context3.sent;\n                _context3.t6 = {\n                  cards: _context3.t3,\n                  category: _context3.t4,\n                  currentCard: _context3.t5\n                };\n                _context3.next = 60;\n                return _context3.t2.setState.call(_context3.t2, _context3.t6);\n\n              case 60:\n                _context3.next = 62;\n                return this.props.sendLanguage(this.state.user.language);\n\n              case 62:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      return function setData() {\n        return _setData.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getUserData();\n    }\n  }, {\n    key: \"findCard\",\n    value: function () {\n      var _findCard = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(index) {\n        var _this3 = this;\n\n        var queryString, found, foundIndex, i, user, newCards;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                queryString = null;\n                _context4.t0 = this.state.user.language;\n                _context4.next = _context4.t0 === 'Korean' ? 4 : _context4.t0 === 'Japanese' ? 6 : _context4.t0 === 'Polish' ? 8 : 10;\n                break;\n\n              case 4:\n                queryString = \"0\";\n                return _context4.abrupt(\"break\", 11);\n\n              case 6:\n                queryString = \"1\";\n                return _context4.abrupt(\"break\", 11);\n\n              case 8:\n                queryString = \"2\";\n                return _context4.abrupt(\"break\", 11);\n\n              case 10:\n                return _context4.abrupt(\"break\", 11);\n\n              case 11:\n                _context4.t1 = this.props.cardsCategory;\n                _context4.next = _context4.t1 === 'Animals' ? 14 : _context4.t1 === 'People' ? 17 : _context4.t1 === 'Food' ? 20 : _context4.t1 === 'School' ? 23 : _context4.t1 === 'House' ? 26 : 29;\n                break;\n\n              case 14:\n                console.log(this.props.cardsCategory);\n                queryString += \"_0\";\n                return _context4.abrupt(\"break\", 29);\n\n              case 17:\n                console.log(this.props.cardsCategory);\n                queryString += \"_1\";\n                return _context4.abrupt(\"break\", 29);\n\n              case 20:\n                console.log(this.props.cardsCategory);\n                queryString += \"_2\";\n                return _context4.abrupt(\"break\", 29);\n\n              case 23:\n                console.log(this.props.cardsCategory);\n                queryString += \"_3\";\n                return _context4.abrupt(\"break\", 29);\n\n              case 26:\n                console.log(this.props.cardsCategory);\n                queryString += \"_4\";\n                return _context4.abrupt(\"break\", 29);\n\n              case 29:\n                queryString += \"_\" + index;\n                found = false;\n                foundIndex = null;\n\n                for (i = 0; i < this.state.user.flashcards.length; ++i) {\n                  if (this.state.user.flashcards[i].id === queryString) {\n                    found = true;\n                    foundIndex = i;\n                  }\n                }\n\n                if (!found) {\n                  _context4.next = 42;\n                  break;\n                }\n\n                _context4.next = 36;\n                return this.setState({\n                  foundIndex: foundIndex\n                });\n\n              case 36:\n                _context4.next = 38;\n                return this.props.setCard(queryString, foundIndex);\n\n              case 38:\n                _context4.next = 40;\n                return this.props.setStatus(this.state.user.flashcards[foundIndex].status);\n\n              case 40:\n                _context4.next = 55;\n                break;\n\n              case 42:\n                foundIndex = this.state.user.flashcards.length;\n                user = db.onceGetUser(this.props.uid).then(function (snapshot) {\n                  return snapshot.val();\n                });\n                _context4.next = 46;\n                return user.then(function (value) {\n                  _this3.setState({\n                    user: value\n                  });\n                });\n\n              case 46:\n                newCards = this.state.user.flashcards;\n                newCards.push({\n                  \"id\": queryString,\n                  \"status\": \"Learning\"\n                });\n                db.setCards(this.props.uid, newCards);\n                _context4.next = 51;\n                return this.setState({\n                  foundIndex: foundIndex\n                });\n\n              case 51:\n                _context4.next = 53;\n                return this.props.setCard(queryString, foundIndex);\n\n              case 53:\n                _context4.next = 55;\n                return this.props.setStatus('Learning');\n\n              case 55:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      return function findCard(_x2) {\n        return _findCard.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getRandomCard\",\n    value: function () {\n      var _getRandomCard = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5(currentCards) {\n        var randomIndex, card;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                randomIndex = Math.floor(Math.random() * currentCards.length);\n                card = currentCards[randomIndex];\n\n                while (card === this.state.currentCard) {\n                  randomIndex = Math.floor(Math.random() * currentCards.length);\n                  card = currentCards[randomIndex];\n                }\n\n                this.findCard(randomIndex);\n                console.log(card);\n                return _context5.abrupt(\"return\", card);\n\n              case 6:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      return function getRandomCard(_x3) {\n        return _getRandomCard.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"updateCard\",\n    value: function () {\n      var _updateCard = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee6() {\n        var currentCards, newCards, card, categoryIndex, categoryString, data;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                currentCards = this.state.cards;\n                newCards = [];\n\n                if (!(this.state.category === this.props.category)) {\n                  _context6.next = 10;\n                  break;\n                }\n\n                _context6.next = 5;\n                return this.getRandomCard(currentCards);\n\n              case 5:\n                card = _context6.sent;\n                _context6.next = 8;\n                return this.setState({\n                  cards: currentCards\n                });\n\n              case 8:\n                _context6.next = 47;\n                break;\n\n              case 10:\n                categoryIndex = 0;\n                categoryString = null;\n                _context6.t0 = this.props.cardsCategory;\n                _context6.next = _context6.t0 === 'Animals' ? 15 : _context6.t0 === 'People' ? 19 : _context6.t0 === 'Food' ? 23 : _context6.t0 === 'School' ? 27 : _context6.t0 === 'House' ? 31 : 35;\n                break;\n\n              case 15:\n                console.log(this.props.cardsCategory);\n                categoryIndex = 0;\n                categoryString = this.state.addedString + \"-animals\";\n                return _context6.abrupt(\"break\", 37);\n\n              case 19:\n                console.log(this.props.cardsCategory);\n                categoryIndex = 1;\n                categoryString = this.state.addedString + \"-people\";\n                return _context6.abrupt(\"break\", 37);\n\n              case 23:\n                console.log(this.props.cardsCategory);\n                categoryIndex = 2;\n                categoryString = this.state.addedString + \"-food\";\n                return _context6.abrupt(\"break\", 37);\n\n              case 27:\n                console.log(this.props.cardsCategory);\n                categoryIndex = 3;\n                categoryString = this.state.addedString + \"-school\";\n                return _context6.abrupt(\"break\", 37);\n\n              case 31:\n                console.log(this.props.cardsCategory);\n                categoryIndex = 4;\n                categoryString = this.state.addedString + \"-house\";\n                return _context6.abrupt(\"break\", 37);\n\n              case 35:\n                console.log(\"null\");\n                return _context6.abrupt(\"break\", 37);\n\n              case 37:\n                _context6.next = 39;\n                return this.setState({\n                  categoryIndex: categoryIndex,\n                  categoryString: categoryString\n                });\n\n              case 39:\n                data = db.getCards(this.state.languageIndex, this.state.addedString, categoryIndex, categoryString).then(function (snapshot) {\n                  return snapshot.val();\n                });\n                _context6.next = 42;\n                return data.then(function (value) {\n                  newCards = value;\n                });\n\n              case 42:\n                _context6.next = 44;\n                return this.getRandomCard(newCards);\n\n              case 44:\n                card = _context6.sent;\n                _context6.next = 47;\n                return this.setState({\n                  cards: newCards,\n                  category: this.props.cardsCategory,\n                  currentCard: card\n                });\n\n              case 47:\n                console.log(this.state.currentSide);\n\n              case 48:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      return function updateCard() {\n        return _updateCard.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"turnCard\",\n    value: function () {\n      var _turnCard = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee7() {\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                if (!(this.state.currentSide === 'front')) {\n                  _context7.next = 5;\n                  break;\n                }\n\n                _context7.next = 3;\n                return this.setState({\n                  currentSide: 'back'\n                });\n\n              case 3:\n                _context7.next = 7;\n                break;\n\n              case 5:\n                _context7.next = 7;\n                return this.setState({\n                  currentSide: 'front'\n                });\n\n              case 7:\n                console.log(this.state.currentSide);\n\n              case 8:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      return function turnCard() {\n        return _turnCard.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.currentCard !== null) {\n        return React.createElement(\"div\", {\n          className: \"card-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 325\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"cardCol\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 326\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"cardRow\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 327\n          },\n          __self: this\n        }, React.createElement(FlashCard, {\n          eng: this.state.currentCard.eng,\n          kan: this.state.currentCard.kan,\n          rom: this.state.currentCard.rom,\n          side: this.state.currentSide,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 328\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"buttonRow\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 333\n          },\n          __self: this\n        }, React.createElement(DrawButton, {\n          drawCard: this.updateCard,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 334\n          },\n          __self: this\n        }), React.createElement(FlipButton, {\n          flipCard: this.turnCard,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 335\n          },\n          __self: this\n        }))));\n      } else {\n        return null;\n      }\n    }\n  }]);\n\n  return CardsContainer;\n}(Component);\n\nexport default CardsContainer;","map":{"version":3,"sources":["D:\\uni\\tamago\\ui\\src\\components\\HomePage\\TestSection\\CardsContainer\\CardsContainer.js"],"names":["React","Component","FlashCard","DrawButton","FlipButton","db","CardsContainer","props","state","cards","currentCard","category","currentSide","user","languageIndex","addedString","categoryIndex","categoryString","cardString","foundIndex","updateCard","bind","turnCard","Cards","getRandomCard","card","setState","onceGetUser","uid","then","snapshot","val","value","console","log","setData","language","cardsCategory","currentCards","data","getCards","sendLanguage","getUserData","index","queryString","found","i","flashcards","length","id","setCard","setStatus","status","newCards","push","setCards","randomIndex","Math","floor","random","findCard","eng","kan","rom"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport './cardscontainer.css';\r\nimport FlashCard from './FlashCard/FlashCard.js';\r\nimport DrawButton from './DrawButton/DrawButton.js';\r\nimport FlipButton from './FlipButton/FlipButton.js';\r\n//import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/database';\r\n//import { default as fire } from '../../../../firebase';\r\nimport { db } from '../../../../firebase';\r\n\r\n\r\n\r\nclass CardsContainer extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n\r\n\r\n\r\n    this.state = {\r\n      cards: null,\r\n      currentCard: null,\r\n      category: null,\r\n      currentSide: 'front',\r\n      user: null,\r\n      languageIndex: null,\r\n      addedString: null,\r\n      categoryIndex: null,\r\n      categoryString: null,\r\n      cardString: null,\r\n      foundIndex: null,\r\n    }\r\n\r\n    this.updateCard = this.updateCard.bind(this);\r\n    this.turnCard = this.turnCard.bind(this);\r\n  }\r\n\r\n  async setCardData(Cards) {\r\n\r\n\r\n    var card = await this.getRandomCard(Cards);\r\n    await this.setState({\r\n      currentCard: card,\r\n    })\r\n  }\r\n\r\n  async getUserData() {\r\n    var user = db.onceGetUser(this.props.uid).then(snapshot => snapshot.val());\r\n    await user.then((value) => {\r\n      this.setState({\r\n        user: value\r\n      })\r\n    });\r\n    console.log(this.state.user);\r\n    if (this.state.cards === null) {\r\n      await this.setData();\r\n    }\r\n  }\r\n\r\n\r\n  async setData() {\r\n    var addedString = \"\";\r\n    var languageIndex = 0;\r\n    switch (this.state.user.language) {\r\n      case 'Korean':\r\n        languageIndex = 0;\r\n        addedString = \"krn-cards\";\r\n        break;\r\n      case 'Japanese':\r\n        languageIndex = 1;\r\n        addedString = \"jpn-cards\";\r\n        break;\r\n      case 'Polish':\r\n        languageIndex = 2;\r\n        addedString = \"pln-cards\";\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    await this.setState({\r\n      languageIndex: languageIndex,\r\n      addedString: addedString,\r\n    });\r\n\r\n    var categoryIndex = 0;\r\n    var categoryString = null;\r\n    switch (this.props.cardsCategory) {\r\n      case 'Animals':\r\n        console.log(this.props.cardsCategory);\r\n        categoryIndex = 0;\r\n        categoryString = addedString + \"-animals\";\r\n        break;\r\n      case 'People':\r\n        console.log(this.props.cardsCategory);\r\n        categoryIndex = 1;\r\n        categoryString = addedString + \"-people\";\r\n        break;\r\n      case 'Food':\r\n        console.log(this.props.cardsCategory);\r\n        categoryIndex = 2;\r\n        categoryString = addedString + \"-food\";\r\n        break;\r\n      case 'School':\r\n        console.log(this.props.cardsCategory);\r\n        categoryIndex = 3;\r\n        categoryString = addedString + \"-school\";\r\n        break;\r\n      case 'House':\r\n        console.log(this.props.cardsCategory);\r\n        categoryIndex = 4;\r\n        categoryString = addedString + \"-house\";\r\n        break;\r\n      default:\r\n        console.log(\"null\");\r\n        break;\r\n    }\r\n\r\n    await this.setState({\r\n      categoryIndex: categoryIndex,\r\n      categoryString: categoryString,\r\n    });\r\n\r\n    var currentCards = null;\r\n\r\n    var data = db.getCards(languageIndex, addedString, categoryIndex, categoryString).then(snapshot => snapshot.val());\r\n    await data.then((value) => {\r\n      currentCards = value;\r\n    });\r\n\r\n    console.log(currentCards);\r\n    await this.setState({\r\n      cards: currentCards,\r\n      category: this.props.cardsCategory,\r\n      currentCard: await this.getRandomCard(currentCards)\r\n    });\r\n    await this.props.sendLanguage(this.state.user.language);\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getUserData();\r\n\r\n  }\r\n\r\n  async findCard(index) {\r\n    var queryString = null;\r\n    switch (this.state.user.language) {\r\n      case 'Korean':\r\n        queryString = \"0\";\r\n        break;\r\n      case 'Japanese':\r\n        queryString = \"1\";\r\n        break;\r\n      case 'Polish':\r\n        queryString = \"2\";\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    switch (this.props.cardsCategory) {\r\n      case 'Animals':\r\n        console.log(this.props.cardsCategory);\r\n        queryString += \"_0\";\r\n\r\n        break;\r\n      case 'People':\r\n        console.log(this.props.cardsCategory);\r\n\r\n        queryString += \"_1\";\r\n\r\n        break;\r\n      case 'Food':\r\n        console.log(this.props.cardsCategory);\r\n        queryString += \"_2\";\r\n        break;\r\n      case 'School':\r\n        console.log(this.props.cardsCategory);\r\n        queryString += \"_3\";\r\n        break;\r\n      case 'House':\r\n        console.log(this.props.cardsCategory);\r\n        queryString += \"_4\";\r\n        break;\r\n    }\r\n    queryString += \"_\" + index;\r\n    var found = false;\r\n    var foundIndex = null;\r\n\r\n    for (var i = 0; i < this.state.user.flashcards.length; ++i) {\r\n      if (this.state.user.flashcards[i].id === queryString) {\r\n        found = true;\r\n        foundIndex = i;\r\n      }\r\n    }\r\n    if (found) {\r\n      await this.setState({\r\n        foundIndex: foundIndex\r\n      })\r\n      await this.props.setCard(queryString, foundIndex);\r\n      await this.props.setStatus(this.state.user.flashcards[foundIndex].status);\r\n    }\r\n    else {\r\n      foundIndex = this.state.user.flashcards.length;\r\n      var user = db.onceGetUser(this.props.uid).then(snapshot => snapshot.val());\r\n      await user.then((value) => {\r\n        this.setState({\r\n          user: value\r\n        })\r\n      });\r\n      var newCards = this.state.user.flashcards;\r\n      newCards.push({\r\n        \"id\": queryString,\r\n        \"status\": \"Learning\",\r\n      })\r\n      db.setCards(this.props.uid, newCards);\r\n      await this.setState({\r\n        foundIndex: foundIndex\r\n      })\r\n      await this.props.setCard(queryString, foundIndex);\r\n      await this.props.setStatus('Learning');\r\n    }\r\n  }\r\n\r\n  async getRandomCard(currentCards) {\r\n\r\n    var randomIndex = Math.floor(Math.random() * currentCards.length);\r\n    var card = currentCards[randomIndex];\r\n\r\n    while (card === this.state.currentCard) {\r\n      randomIndex = Math.floor(Math.random() * currentCards.length);\r\n      card = currentCards[randomIndex];\r\n    }\r\n\r\n    this.findCard(randomIndex);\r\n\r\n    console.log(card);\r\n    return (card);\r\n  }\r\n\r\n  async updateCard() {\r\n    var currentCards = this.state.cards;\r\n    var newCards = [];\r\n    if (this.state.category === this.props.category) {\r\n      var card = await this.getRandomCard(currentCards);\r\n      await this.setState({\r\n        cards: currentCards,\r\n      })\r\n    }\r\n    else {\r\n\r\n      var categoryIndex = 0;\r\n      var categoryString = null;\r\n      switch (this.props.cardsCategory) {\r\n        case 'Animals':\r\n          console.log(this.props.cardsCategory);\r\n          categoryIndex = 0;\r\n          categoryString = this.state.addedString + \"-animals\";\r\n          break;\r\n        case 'People':\r\n          console.log(this.props.cardsCategory);\r\n          categoryIndex = 1;\r\n          categoryString = this.state.addedString + \"-people\";\r\n          break;\r\n        case 'Food':\r\n          console.log(this.props.cardsCategory);\r\n          categoryIndex = 2;\r\n          categoryString = this.state.addedString + \"-food\";\r\n          break;\r\n        case 'School':\r\n          console.log(this.props.cardsCategory);\r\n          categoryIndex = 3;\r\n          categoryString = this.state.addedString + \"-school\";\r\n          break;\r\n        case 'House':\r\n          console.log(this.props.cardsCategory);\r\n          categoryIndex = 4;\r\n          categoryString = this.state.addedString + \"-house\";\r\n          break;\r\n        default:\r\n          console.log(\"null\");\r\n          break;\r\n      }\r\n\r\n      await this.setState({\r\n        categoryIndex: categoryIndex,\r\n        categoryString: categoryString,\r\n      });\r\n\r\n      var data = db.getCards(this.state.languageIndex, this.state.addedString, categoryIndex, categoryString).then(snapshot => snapshot.val());\r\n      await data.then((value) => {\r\n        newCards = value;\r\n      });\r\n\r\n      var card = await this.getRandomCard(newCards);\r\n\r\n      await this.setState({\r\n        cards: newCards,\r\n        category: this.props.cardsCategory,\r\n        currentCard: card,\r\n      });\r\n    }\r\n    console.log(this.state.currentSide);\r\n  }\r\n\r\n  async turnCard() {\r\n    if (this.state.currentSide === 'front') {\r\n      await this.setState({\r\n        currentSide: 'back',\r\n      });\r\n    }\r\n    else {\r\n      await this.setState({\r\n        currentSide: 'front',\r\n      });\r\n    }\r\n    console.log(this.state.currentSide);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.currentCard !== null) {\r\n      return (\r\n        <div className=\"card-container\">\r\n          <div className=\"cardCol\">\r\n            <div className=\"cardRow\">\r\n              <FlashCard eng={this.state.currentCard.eng}\r\n                kan={this.state.currentCard.kan}\r\n                rom={this.state.currentCard.rom}\r\n                side={this.state.currentSide} />\r\n            </div>\r\n            <div className=\"buttonRow\">\r\n              <DrawButton drawCard={this.updateCard} />\r\n              <FlipButton flipCard={this.turnCard} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n      );\r\n    }\r\n    else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport default CardsContainer;"]},"metadata":{},"sourceType":"module"}