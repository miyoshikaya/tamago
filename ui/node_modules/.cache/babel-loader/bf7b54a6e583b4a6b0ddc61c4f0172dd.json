{"ast":null,"code":"import _classCallCheck from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\uni\\\\tamago\\\\ui\\\\src\\\\withAuthorization.js\";\nimport React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport AuthUserContext from './AuthUserContext';\nimport { firebase } from './firebase';\nimport * as routes from './constants/routes';\n\nvar withAuthorization = function withAuthorization(authCondition) {\n  return function (Component) {\n    var WithAuthorization =\n    /*#__PURE__*/\n    function (_React$Component) {\n      _inherits(WithAuthorization, _React$Component);\n\n      function WithAuthorization() {\n        _classCallCheck(this, WithAuthorization);\n\n        return _possibleConstructorReturn(this, _getPrototypeOf(WithAuthorization).apply(this, arguments));\n      }\n\n      _createClass(WithAuthorization, [{\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n          var _this = this;\n\n          firebase.auth.onAuthStateChanged(function (authUser) {\n            if (!authCondition(authUser)) {\n              _this.props.history.push(routes.SIGN_IN);\n            }\n          });\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          var _this2 = this;\n\n          return React.createElement(AuthUserContext.Consumer, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 20\n            },\n            __self: this\n          }, \" \", function (authUser) {\n            return authUser ? React.createElement(Component, Object.assign({}, _this2.props, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 21\n              },\n              __self: this\n            })) : null;\n          });\n        }\n      }]);\n\n      return WithAuthorization;\n    }(React.Component);\n\n    return withRouter(WithAuthorization);\n  };\n};\n\nexport default withAuthorization;","map":{"version":3,"sources":["D:\\uni\\tamago\\ui\\src\\withAuthorization.js"],"names":["React","withRouter","AuthUserContext","firebase","routes","withAuthorization","authCondition","Component","WithAuthorization","auth","onAuthStateChanged","authUser","props","history","push","SIGN_IN"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AAEA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,SAASC,QAAT,QAAyB,YAAzB;AACA,OAAO,KAAKC,MAAZ,MAAwB,oBAAxB;;AAGA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,aAAD;AAAA,SAAmB,UAACC,SAAD,EAAe;AAAA,QACrDC,iBADqD;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA,4CAEtC;AAAA;;AACnBL,UAAAA,QAAQ,CAACM,IAAT,CAAcC,kBAAd,CAAiC,UAAAC,QAAQ,EAAI;AAC5C,gBAAI,CAACL,aAAa,CAACK,QAAD,CAAlB,EAA8B;AAC7B,cAAA,KAAI,CAACC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwBV,MAAM,CAACW,OAA/B;AACA;AACD,WAJD;AAKA;AARyD;AAAA;AAAA,iCASjD;AAAA;;AACR,iBACC,oBAAC,eAAD,CAAiB,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA4B,UAAAJ,QAAQ;AAAA,mBAAIA,QAAQ,GAC7C,oBAAC,SAAD,oBAAe,MAAI,CAACC,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAD6C,GAE7C,IAFiC;AAAA,WAApC,CADD;AAOA;AAjByD;;AAAA;AAAA,MAC3BZ,KAAK,CAACO,SADqB;;AAoB3D,WAAON,UAAU,CAACO,iBAAD,CAAjB;AACA,GArByB;AAAA,CAA1B;;AAsBA,eAAeH,iBAAf","sourcesContent":["import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport AuthUserContext from './AuthUserContext'; \r\nimport { firebase } from './firebase'; \r\nimport * as routes from './constants/routes';\r\n\r\n\r\nconst withAuthorization = (authCondition) => (Component) => { \r\n\tclass WithAuthorization extends React.Component {\r\n\t\tcomponentDidMount() { \r\n\t\t\tfirebase.auth.onAuthStateChanged(authUser => { \r\n\t\t\t\tif (!authCondition(authUser)) { \r\n\t\t\t\t\tthis.props.history.push(routes.SIGN_IN); \r\n\t\t\t\t} \r\n\t\t\t}); \r\n\t\t}\r\n\t\trender() { \r\n\t\t\treturn ( \r\n\t\t\t\t<AuthUserContext.Consumer> {authUser => authUser \r\n\t\t\t\t\t? <Component {...this.props} /> \r\n\t\t\t\t\t: null \r\n\t\t\t\t} \r\n\t\t\t\t</AuthUserContext.Consumer> \r\n\t\t\t);\r\n\t\t} \r\n\t}\r\n\r\n\treturn withRouter(WithAuthorization);\r\n}\r\nexport default withAuthorization"]},"metadata":{},"sourceType":"module"}