{"ast":null,"code":"import _objectSpread from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _defineProperty from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"D:\\\\uni\\\\tamago\\\\ui\\\\src\\\\components\\\\StartPage\\\\SignForm\\\\SignIn.js\";\nimport React from 'react';\nimport './login-style.css';\nimport { Link, withRouter } from 'react-router-dom';\nimport { auth } from '../../../firebase';\nimport { firebase } from '../../../firebase';\nimport * as routes from '../../../constants/routes.js';\n\nvar authCondition = function authCondition(authUser) {\n  return !!authUser;\n};\n\nvar SignIn = function SignIn(_ref) {\n  var history = _ref.history;\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11\n    },\n    __self: this\n  }, React.createElement(SignInForm, {\n    history: history,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12\n    },\n    __self: this\n  }));\n};\n\nvar byPropKey = function byPropKey(propertyName, value) {\n  return function () {\n    return _defineProperty({}, propertyName, value);\n  };\n};\n\nvar INITIAL_STATE = {\n  email: '',\n  password: '',\n  error: null\n};\n\nvar SignInForm =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SignInForm, _React$Component);\n\n  function SignInForm(props) {\n    var _this;\n\n    _classCallCheck(this, SignInForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SignInForm).call(this, props));\n\n    _this.onSubmit = function (event) {\n      var _this$state = _this.state,\n          email = _this$state.email,\n          password = _this$state.password;\n      var history = _this.props.history;\n      auth.doSignInWithEmailAndPassword(email, password).then(function () {\n        _this.setState(_objectSpread({}, INITIAL_STATE));\n\n        history.push(routes.PET);\n      }).catch(function (error) {\n        _this.setState(byPropKey('error', error));\n      });\n      event.preventDefault();\n    };\n\n    _this.state = _objectSpread({}, INITIAL_STATE);\n    return _this;\n  }\n\n  _createClass(SignInForm, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state2 = this.state,\n          email = _this$state2.email,\n          password = _this$state2.password,\n          error = _this$state2.error;\n      var isInvalid = password === '' || email === '';\n      firebase.auth.onAuthStateChanged(function (authUser) {\n        if (authCondition(authUser)) {\n          window.location = routes.PET;\n        }\n      });\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.onSubmit,\n        className: \"signUp\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Welcome\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }), \"Back to\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }), \"Tamagochi !\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"email\",\n        value: email,\n        onChange: function onChange(event) {\n          return _this2.setState(byPropKey('email', event.target.value));\n        },\n        placeholder: \"Insert email\",\n        autoComplete: \"off\",\n        required: true,\n        className: \"pwd\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"password\",\n        value: password,\n        onChange: function onChange(event) {\n          return _this2.setState(byPropKey('password', event.target.value));\n        },\n        placeholder: \"Insert password\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }), React.createElement(Link, {\n        to: routes.PASSWORD_FORGET,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"p-button\",\n        unselectable: \"on\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"Forgot your password?\")), React.createElement(Link, {\n        to: routes.SIGN_UP,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"form-btn sx back\",\n        type: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"Sign Up\")), React.createElement(\"button\", {\n        className: \"form-btn dx\",\n        type: \"submit\",\n        disabled: isInvalid,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"Log In\"), error && React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, error.message)));\n    }\n  }]);\n\n  return SignInForm;\n}(React.Component);\n\nexport default withRouter(SignIn);\nexport { SignInForm };","map":{"version":3,"sources":["D:\\uni\\tamago\\ui\\src\\components\\StartPage\\SignForm\\SignIn.js"],"names":["React","Link","withRouter","auth","firebase","routes","authCondition","authUser","SignIn","history","byPropKey","propertyName","value","INITIAL_STATE","email","password","error","SignInForm","props","onSubmit","event","state","doSignInWithEmailAndPassword","then","setState","push","PET","catch","preventDefault","isInvalid","onAuthStateChanged","window","location","target","PASSWORD_FORGET","SIGN_UP","message","Component"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,mBAAP;AACA,SAASC,IAAT,EAAeC,UAAf,QAAkC,kBAAlC;AACA,SAASC,IAAT,QAAqB,mBAArB;AACA,SAASC,QAAT,QAAyB,mBAAzB;AACA,OAAO,KAAKC,MAAZ,MAAwB,8BAAxB;;AAEA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,QAAD;AAAA,SAAc,CAAC,CAACA,QAAhB;AAAA,CAAtB;;AAEA,IAAMC,MAAM,GAAG,SAATA,MAAS;AAAA,MAAGC,OAAH,QAAGA,OAAH;AAAA,SACd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAEA,OAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CADc;AAAA,CAAf;;AAKA,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,YAAD,EAAeC,KAAf;AAAA,SAAyB;AAAA,+BACzCD,YADyC,EAC1BC,KAD0B;AAAA,GAAzB;AAAA,CAAlB;;AAIA,IAAMC,aAAa,GAAG;AACrBC,EAAAA,KAAK,EAAE,EADc;AAErBC,EAAAA,QAAQ,EAAE,EAFW;AAGrBC,EAAAA,KAAK,EAAE;AAHc,CAAtB;;IAMMC,U;;;;;AAEL,sBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AAClB,oFAAMA,KAAN;;AADkB,UAMnBC,QANmB,GAMR,UAACC,KAAD,EAAW;AAAA,wBAIjB,MAAKC,KAJY;AAAA,UAEpBP,KAFoB,eAEpBA,KAFoB;AAAA,UAGpBC,QAHoB,eAGpBA,QAHoB;AAAA,UAOpBN,OAPoB,GAQjB,MAAKS,KARY,CAOpBT,OAPoB;AAUrBN,MAAAA,IAAI,CAACmB,4BAAL,CAAkCR,KAAlC,EAAyCC,QAAzC,EACEQ,IADF,CACO,YAAM;AACX,cAAKC,QAAL,mBAAmBX,aAAnB;;AACAJ,QAAAA,OAAO,CAACgB,IAAR,CAAapB,MAAM,CAACqB,GAApB;AACA,OAJF,EAKEC,KALF,CAKQ,UAAAX,KAAK,EAAI;AACf,cAAKQ,QAAL,CAAcd,SAAS,CAAC,OAAD,EAAUM,KAAV,CAAvB;AACA,OAPF;AASAI,MAAAA,KAAK,CAACQ,cAAN;AACA,KA1BkB;;AAGlB,UAAKP,KAAL,qBAAkBR,aAAlB;AAHkB;AAIlB;;;;6BAyBQ;AAAA;;AAAA,yBAOJ,KAAKQ,KAPD;AAAA,UAIPP,KAJO,gBAIPA,KAJO;AAAA,UAKPC,QALO,gBAKPA,QALO;AAAA,UAMPC,KANO,gBAMPA,KANO;AASR,UAAMa,SAAS,GAAGd,QAAQ,KAAK,EAAb,IAAmBD,KAAK,KAAK,EAA/C;AACAV,MAAAA,QAAQ,CAACD,IAAT,CAAc2B,kBAAd,CAAiC,UAAAvB,QAAQ,EAAI;AAC5C,YAAID,aAAa,CAACC,QAAD,CAAjB,EAA6B;AAC5BwB,UAAAA,MAAM,CAACC,QAAP,GAAkB3B,MAAM,CAACqB,GAAzB;AACA;AACD,OAJD;AAKA,aACC;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAM,QAAA,QAAQ,EAAE,KAAKP,QAArB;AAA+B,QAAA,SAAS,EAAC,QAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAX,aAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAxB,gBADD,EAEkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFlB,EAGC;AACC,QAAA,IAAI,EAAC,OADN;AAEC,QAAA,KAAK,EAAEL,KAFR;AAGC,QAAA,QAAQ,EAAE,kBAAAM,KAAK;AAAA,iBAAI,MAAI,CAACI,QAAL,CAAcd,SAAS,CAAC,OAAD,EAAUU,KAAK,CAACa,MAAN,CAAarB,KAAvB,CAAvB,CAAJ;AAAA,SAHhB;AAIC,QAAA,WAAW,EAAC,cAJb;AAKC,QAAA,YAAY,EAAC,KALd;AAMC,QAAA,QAAQ,MANT;AAOC,QAAA,SAAS,EAAC,KAPX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHD,EAWC;AACC,QAAA,IAAI,EAAC,UADN;AAEC,QAAA,KAAK,EAAEG,QAFR;AAGC,QAAA,QAAQ,EAAE,kBAAAK,KAAK;AAAA,iBAAI,MAAI,CAACI,QAAL,CAAcd,SAAS,CAAC,UAAD,EAAaU,KAAK,CAACa,MAAN,CAAarB,KAA1B,CAAvB,CAAJ;AAAA,SAHhB;AAIC,QAAA,WAAW,EAAC,iBAJb;AAKC,QAAA,QAAQ,MALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAXD,EAiBC,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAEP,MAAM,CAAC6B,eAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAkC;AAAG,QAAA,SAAS,EAAC,UAAb;AAAwB,QAAA,YAAY,EAAC,IAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAAlC,CAjBD,EAkBC,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAE7B,MAAM,CAAC8B,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA0B;AAAQ,QAAA,SAAS,EAAC,kBAAlB;AAAqC,QAAA,IAAI,EAAC,QAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAA1B,CAlBD,EAmBC;AAAQ,QAAA,SAAS,EAAC,aAAlB;AAAgC,QAAA,IAAI,EAAC,QAArC;AAA8C,QAAA,QAAQ,EAAEN,SAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAnBD,EAqBEb,KAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAIA,KAAK,CAACoB,OAAV,CArBX,CADD,CADD;AA2BA;;;;EAzEuBpC,KAAK,CAACqC,S;;AA4E/B,eAAenC,UAAU,CAACM,MAAD,CAAzB;AACA,SAASS,UAAT","sourcesContent":["import React from 'react';\r\nimport './login-style.css';\r\nimport { Link, withRouter, } from 'react-router-dom';\r\nimport { auth } from '../../../firebase';\r\nimport { firebase } from '../../../firebase';\r\nimport * as routes from '../../../constants/routes.js';\r\n\r\nconst authCondition = (authUser) => !!authUser;\r\n\r\nconst SignIn = ({ history }) =>\r\n\t<div>\r\n\t\t<SignInForm history={history} />\r\n\t</div>\r\n\r\nconst byPropKey = (propertyName, value) => () => ({\r\n\t[propertyName]: value,\r\n});\r\n\r\nconst INITIAL_STATE = {\r\n\temail: '',\r\n\tpassword: '',\r\n\terror: null,\r\n};\r\n\r\nclass SignInForm extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = { ...INITIAL_STATE };\r\n\t}\r\n\r\n\tonSubmit = (event) => {\r\n\t\tconst {\r\n\t\t\temail,\r\n\t\t\tpassword,\r\n\t\t} = this.state;\r\n\r\n\t\tconst {\r\n\t\t\thistory,\r\n\t\t} = this.props;\r\n\r\n\t\tauth.doSignInWithEmailAndPassword(email, password)\r\n\t\t\t.then(() => {\r\n\t\t\t\tthis.setState({ ...INITIAL_STATE });\r\n\t\t\t\thistory.push(routes.PET);\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tthis.setState(byPropKey('error', error));\r\n\t\t\t});\r\n\r\n\t\tevent.preventDefault();\r\n\t}\r\n\r\n\r\n\trender() {\r\n\r\n\r\n\t\tconst {\r\n\t\t\temail,\r\n\t\t\tpassword,\r\n\t\t\terror,\r\n\t\t} = this.state;\r\n\r\n\t\tconst isInvalid = password === '' || email === '';\r\n\t\tfirebase.auth.onAuthStateChanged(authUser => {\r\n\t\t\tif (authCondition(authUser)) {\r\n\t\t\t\twindow.location = routes.PET;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn (\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<form onSubmit={this.onSubmit} className=\"signUp\">\r\n\t\t\t\t\t<h3>Welcome<br />Back to<br />\r\n\t\t\t\t\t\tTamagochi !</h3><br />\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\tonChange={event => this.setState(byPropKey('email', event.target.value))}\r\n\t\t\t\t\t\tplaceholder=\"Insert email\"\r\n\t\t\t\t\t\tautoComplete='off'\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t\tclassName=\"pwd\" />\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\tonChange={event => this.setState(byPropKey('password', event.target.value))}\r\n\t\t\t\t\t\tplaceholder=\"Insert password\"\r\n\t\t\t\t\t\trequired />\r\n\t\t\t\t\t<Link to={routes.PASSWORD_FORGET}><p className=\"p-button\" unselectable=\"on\">Forgot your password?</p></Link>\r\n\t\t\t\t\t<Link to={routes.SIGN_UP}><button className=\"form-btn sx back\" type=\"button\">Sign Up</button></Link>\r\n\t\t\t\t\t<button className=\"form-btn dx\" type=\"submit\" disabled={isInvalid}>Log In</button>\r\n\r\n\t\t\t\t\t{error && <p>{error.message}</p>}\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default withRouter(SignIn);\r\nexport { SignInForm, };\r\n"]},"metadata":{},"sourceType":"module"}