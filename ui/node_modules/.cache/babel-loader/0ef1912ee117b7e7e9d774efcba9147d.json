{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\uni\\\\tamago\\\\ui\\\\src\\\\components\\\\HomePage\\\\SettingSection\\\\SettingsCard\\\\SettingsCard.js\";\nimport React from 'react';\nimport './settingscard.css';\nimport Dropdown from './Dropdown/Dropdown.js';\nimport PwdChangeForm from './PwdChange.js';\nimport { firebase } from '../../../../firebase';\nimport { db } from '../../../../firebase';\n\nvar SettingsCard =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SettingsCard, _React$Component);\n\n  function SettingsCard(props) {\n    var _this;\n\n    _classCallCheck(this, SettingsCard);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SettingsCard).call(this, props));\n\n    _this.changeLanguage = function (lang) {\n      if (lang === 'Japanese') {\n        _this.setState({\n          languageB: 'Jp',\n          languageS: lang\n        });\n      } else if (lang === 'Korean') {\n        _this.setState({\n          languageB: 'Kr',\n          languageS: lang\n        });\n      } else if (lang === 'Polish') {\n        _this.setState({\n          languageB: 'Pl',\n          languageS: lang\n        });\n      }\n\n      db.setLang(firebase.auth.currentUser.uid, lang);\n    };\n\n    _this.state = {\n      languageB: _this.props.languageB,\n      languageS: _this.props.languageS\n    };\n    return _this;\n  }\n\n  _createClass(SettingsCard, [{\n    key: \"getUserData\",\n    value: function () {\n      var _getUserData = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var _this2 = this;\n\n        var user;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(firebase.auth.currentUser !== null)) {\n                  _context.next = 18;\n                  break;\n                }\n\n                user = db.onceGetUser(firebase.auth.currentUser.uid).then(function (snapshot) {\n                  return snapshot.val();\n                });\n                _context.next = 4;\n                return user.then(function (value) {\n                  _this2.setState({\n                    user: value\n                  });\n                });\n\n              case 4:\n                console.log(this.state.user);\n                _context.t0 = this.state.user.language;\n                _context.next = _context.t0 === 'Korean' ? 8 : _context.t0 === 'Japanese' ? 11 : _context.t0 === 'Polish' ? 14 : 17;\n                break;\n\n              case 8:\n                _context.next = 10;\n                return this.setState({\n                  languageB: 'Kr',\n                  languageS: 'Korean'\n                });\n\n              case 10:\n                return _context.abrupt(\"break\", 18);\n\n              case 11:\n                _context.next = 13;\n                return this.setState({\n                  languageB: 'Jp',\n                  languageS: 'Japanese'\n                });\n\n              case 13:\n                return _context.abrupt(\"break\", 18);\n\n              case 14:\n                _context.next = 16;\n                return this.setState({\n                  languageB: 'Pl',\n                  languageS: 'Polish'\n                });\n\n              case 16:\n                return _context.abrupt(\"break\", 18);\n\n              case 17:\n                return _context.abrupt(\"break\", 18);\n\n              case 18:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function getUserData() {\n        return _getUserData.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      console.log(firebase.auth.currentUser);\n      this.getUserData();\n      console.log(firebase.auth.currentUser);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.languageS !== null) {\n        return React.createElement(\"div\", {\n          className: \"centered\",\n          id: \"mainWrapper\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"half purple\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          id: \"title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }, \"Tamago settings\"), React.createElement(\"div\", {\n          id: \"preview\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          id: \"previewText\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, this.state.languageB), React.createElement(\"div\", {\n          id: \"previewTitle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, this.state.languageS), \" Language\")), React.createElement(\"div\", {\n          id: \"switchWrapper\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          id: \"switchOuter\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }))), React.createElement(\"div\", {\n          className: \"half\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          id: \"settingsWrapper\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }, React.createElement(PwdChangeForm, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          id: \"colorPicker\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"dropdownTitle\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        }, \"Language\"), React.createElement(\"div\", {\n          id: \"colorsWrapper\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98\n          },\n          __self: this\n        }, React.createElement(Dropdown, {\n          handleLanguageChange: this.changeLanguage,\n          currentLanguage: this.state.languageS,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        }))))));\n      } else {\n        return null;\n      }\n    }\n  }]);\n\n  return SettingsCard;\n}(React.Component);\n\nexport default SettingsCard;","map":{"version":3,"sources":["D:\\uni\\tamago\\ui\\src\\components\\HomePage\\SettingSection\\SettingsCard\\SettingsCard.js"],"names":["React","Dropdown","PwdChangeForm","firebase","db","SettingsCard","props","changeLanguage","lang","setState","languageB","languageS","setLang","auth","currentUser","uid","state","user","onceGetUser","then","snapshot","val","value","console","log","language","getUserData","Component"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,oBAAP;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,aAAP,MAA0B,gBAA1B;AACA,SAASC,QAAT,QAAyB,sBAAzB;AACA,SAASC,EAAT,QAAmB,sBAAnB;;IAGMC,Y;;;;;AACJ,wBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,sFAAMA,KAAN;;AADiB,UAgDnBC,cAhDmB,GAgDF,UAACC,IAAD,EAAU;AACzB,UAAIA,IAAI,KAAK,UAAb,EAAyB;AACvB,cAAKC,QAAL,CAAc;AACZC,UAAAA,SAAS,EAAE,IADC;AAEZC,UAAAA,SAAS,EAAEH;AAFC,SAAd;AAID,OALD,MAKO,IAAIA,IAAI,KAAK,QAAb,EAAuB;AAC5B,cAAKC,QAAL,CAAc;AACZC,UAAAA,SAAS,EAAE,IADC;AAEZC,UAAAA,SAAS,EAAEH;AAFC,SAAd;AAID,OALM,MAKA,IAAIA,IAAI,KAAK,QAAb,EAAuB;AAC5B,cAAKC,QAAL,CAAc;AACZC,UAAAA,SAAS,EAAE,IADC;AAEZC,UAAAA,SAAS,EAAEH;AAFC,SAAd;AAID;;AACDJ,MAAAA,EAAE,CAACQ,OAAH,CAAWT,QAAQ,CAACU,IAAT,CAAcC,WAAd,CAA0BC,GAArC,EAA0CP,IAA1C;AACD,KAlEkB;;AAGjB,UAAKQ,KAAL,GAAa;AACXN,MAAAA,SAAS,EAAE,MAAKJ,KAAL,CAAWI,SADX;AAEXC,MAAAA,SAAS,EAAE,MAAKL,KAAL,CAAWK;AAFX,KAAb;AAHiB;AAOlB;;;;;;;;;;;;;;;sBAEKR,QAAQ,CAACU,IAAT,CAAcC,WAAd,KAA8B,I;;;;;AAC5BG,gBAAAA,I,GAAOb,EAAE,CAACc,WAAH,CAAef,QAAQ,CAACU,IAAT,CAAcC,WAAd,CAA0BC,GAAzC,EAA8CI,IAA9C,CAAmD,UAAAC,QAAQ;AAAA,yBAAIA,QAAQ,CAACC,GAAT,EAAJ;AAAA,iBAA3D,C;;uBACLJ,IAAI,CAACE,IAAL,CAAU,UAACG,KAAD,EAAW;AACzB,kBAAA,MAAI,CAACb,QAAL,CAAc;AACZQ,oBAAAA,IAAI,EAAEK;AADM,mBAAd;AAGD,iBAJK,C;;;AAKNC,gBAAAA,OAAO,CAACC,GAAR,CAAY,KAAKR,KAAL,CAAWC,IAAvB;8BACQ,KAAKD,KAAL,CAAWC,IAAX,CAAgBQ,Q;gDACjB,Q,uBAMA,U,wBAMA,Q;;;;;uBAXG,KAAKhB,QAAL,CAAc;AAClBC,kBAAAA,SAAS,EAAE,IADO;AAElBC,kBAAAA,SAAS,EAAE;AAFO,iBAAd,C;;;;;;;uBAMA,KAAKF,QAAL,CAAc;AAClBC,kBAAAA,SAAS,EAAE,IADO;AAElBC,kBAAAA,SAAS,EAAE;AAFO,iBAAd,C;;;;;;;uBAMA,KAAKF,QAAL,CAAc;AAClBC,kBAAAA,SAAS,EAAE,IADO;AAElBC,kBAAAA,SAAS,EAAE;AAFO,iBAAd,C;;;;;;;;;;;;;;;;;;;;;;wCAUM;AAElBY,MAAAA,OAAO,CAACC,GAAR,CAAYrB,QAAQ,CAACU,IAAT,CAAcC,WAA1B;AACA,WAAKY,WAAL;AACAH,MAAAA,OAAO,CAACC,GAAR,CAAYrB,QAAQ,CAACU,IAAT,CAAcC,WAA1B;AACD;;;6BAsBQ;AACP,UAAI,KAAKE,KAAL,CAAWL,SAAX,KAAyB,IAA7B,EAAmC;AACjC,eACE;AAAK,UAAA,SAAS,EAAC,UAAf;AAA0B,UAAA,EAAE,EAAC,aAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,EAAE,EAAC,OAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADF,EAEE;AAAK,UAAA,EAAE,EAAC,SAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,EAAE,EAAC,aAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAuB,KAAKK,KAAL,CAAWN,SAAlC,CADF,EAEE;AAAK,UAAA,EAAE,EAAC,cAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAO,KAAKM,KAAL,CAAWL,SAAlB,CAAvB,cAFF,CAFF,EAME;AAAK,UAAA,EAAE,EAAC,eAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,EAAE,EAAC,aAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CANF,CADF,EAYE;AAAK,UAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,EAAE,EAAC,iBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,EAEE;AAAK,UAAA,EAAE,EAAC,aAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,EAEE;AAAK,UAAA,EAAE,EAAC,eAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,QAAD;AAAU,UAAA,oBAAoB,EAAE,KAAKJ,cAArC;AACE,UAAA,eAAe,EAAE,KAAKS,KAAL,CAAWL,SAD9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CAFF,CAFF,CADF,CAZF,CADF;AA2BD,OA5BD,MA6BK;AACH,eAAO,IAAP;AACD;AACF;;;;EAtGwBX,KAAK,CAAC2B,S;;AAyGjC,eAAetB,YAAf","sourcesContent":["import React from 'react';\r\nimport './settingscard.css';\r\nimport Dropdown from './Dropdown/Dropdown.js';\r\nimport PwdChangeForm from './PwdChange.js';\r\nimport { firebase } from '../../../../firebase';\r\nimport { db } from '../../../../firebase';\r\n\r\n\r\nclass SettingsCard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      languageB: this.props.languageB,\r\n      languageS: this.props.languageS,\r\n    }\r\n  }\r\n  async getUserData() {\r\n    if (firebase.auth.currentUser !== null) {\r\n      var user = db.onceGetUser(firebase.auth.currentUser.uid).then(snapshot => snapshot.val());\r\n      await user.then((value) => {\r\n        this.setState({\r\n          user: value\r\n        })\r\n      });\r\n      console.log(this.state.user);\r\n      switch (this.state.user.language) {\r\n        case 'Korean':\r\n          await this.setState({\r\n            languageB: 'Kr',\r\n            languageS: 'Korean',\r\n          });\r\n          break;\r\n        case 'Japanese':\r\n          await this.setState({\r\n            languageB: 'Jp',\r\n            languageS: 'Japanese',\r\n          });\r\n          break;\r\n        case 'Polish':\r\n          await this.setState({\r\n            languageB: 'Pl',\r\n            languageS: 'Polish',\r\n          });\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n  }\r\n  componentDidMount() {\r\n\r\n    console.log(firebase.auth.currentUser);\r\n    this.getUserData();\r\n    console.log(firebase.auth.currentUser);\r\n  }\r\n\r\n  changeLanguage = (lang) => {\r\n    if (lang === 'Japanese') {\r\n      this.setState({\r\n        languageB: 'Jp',\r\n        languageS: lang\r\n      });\r\n    } else if (lang === 'Korean') {\r\n      this.setState({\r\n        languageB: 'Kr',\r\n        languageS: lang\r\n      });\r\n    } else if (lang === 'Polish') {\r\n      this.setState({\r\n        languageB: 'Pl',\r\n        languageS: lang\r\n      });\r\n    }\r\n    db.setLang(firebase.auth.currentUser.uid, lang);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.languageS !== null) {\r\n      return (\r\n        <div className=\"centered\" id=\"mainWrapper\">\r\n          <div className=\"half purple\">\r\n            <div id=\"title\">Tamago settings</div>\r\n            <div id=\"preview\">\r\n              <div id=\"previewText\">{this.state.languageB}</div>\r\n              <div id=\"previewTitle\"><span>{this.state.languageS}</span> Language</div>\r\n            </div>\r\n            <div id=\"switchWrapper\">\r\n              <div id=\"switchOuter\">\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"half\">\r\n            <div id=\"settingsWrapper\">\r\n              <PwdChangeForm />\r\n              <div id=\"colorPicker\">\r\n                <div className=\"dropdownTitle\">Language</div>\r\n                <div id=\"colorsWrapper\">\r\n                  <Dropdown handleLanguageChange={this.changeLanguage}\r\n                    currentLanguage={this.state.languageS} />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    else {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n\r\nexport default SettingsCard;"]},"metadata":{},"sourceType":"module"}