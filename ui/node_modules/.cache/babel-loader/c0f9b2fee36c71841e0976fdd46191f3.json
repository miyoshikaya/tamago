{"ast":null,"code":"import _objectSpread from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _defineProperty from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"D:\\\\uni\\\\tamago\\\\ui\\\\src\\\\components\\\\StartPage\\\\SignForm\\\\SignUp.js\";\nimport React from 'react';\nimport './login-style.css';\nimport { Link, withRouter } from 'react-router-dom';\nimport { auth, db } from '../../../firebase';\nimport * as routes from './constants/routes.js';\n\nvar SignUp = function SignUp(_ref) {\n  var history = _ref.history;\n  return React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8\n    },\n    __self: this\n  }, React.createElement(SignUpForm, {\n    history: history,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9\n    },\n    __self: this\n  }));\n};\n\nvar INITIAL_STATE = {\n  email: '',\n  passwordOne: '',\n  passwordTwo: '',\n  error: null\n};\n\nvar byPropKey = function byPropKey(propertyName, value) {\n  return function () {\n    return _defineProperty({}, propertyName, value);\n  };\n};\n\nvar SignUpForm =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SignUpForm, _React$Component);\n\n  function SignUpForm(props) {\n    var _this;\n\n    _classCallCheck(this, SignUpForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SignUpForm).call(this, props));\n\n    _this.onSubmit = function (event) {\n      var _this$state = _this.state,\n          email = _this$state.email,\n          passwordOne = _this$state.passwordOne;\n      var history = _this.props.history;\n      auth.doCreateUserWithEmailAndPassword(email, passwordOne).then(function (authUser) {\n        db.doCreateUser(authUser.user.uid, username, email).then(function () {\n          _this.setState(function () {\n            return _objectSpread({}, INITIAL_STATE);\n          });\n\n          history.push(routes.PET);\n        }).catch(function (error) {\n          _this.setState(byPropKey('error', error));\n        });\n      }).catch(function (error) {\n        _this.setState(byPropKey('error', error));\n      });\n      event.preventDefault();\n    };\n\n    _this.state = _objectSpread({}, INITIAL_STATE);\n    return _this;\n  }\n\n  _createClass(SignUpForm, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state2 = this.state,\n          email = _this$state2.email,\n          passwordOne = _this$state2.passwordOne,\n          passwordTwo = _this$state2.passwordTwo,\n          error = _this$state2.error;\n      var isInvalid = passwordOne !== passwordTwo || passwordOne === '' || email === '';\n      return React.createElement(\"form\", {\n        className: \"signUp\",\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"Create Your Account\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"Just enter your email address\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), \"and your password for join.\"), React.createElement(\"input\", {\n        className: \"pwd\",\n        type: \"email\",\n        value: email,\n        onChange: function onChange(event) {\n          return _this2.setState(byPropKey('email', event.target.value));\n        },\n        placeholder: \"Insert email\",\n        required: true,\n        autoComplete: \"off\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"password\",\n        value: passwordOne,\n        onChange: function onChange(event) {\n          return _this2.setState(byPropKey('passwordOne', event.target.value));\n        },\n        placeholder: \"Insert password\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"password\",\n        value: passwordTwo,\n        onChange: function onChange(event) {\n          return _this2.setState(byPropKey('passwordTwo', event.target.value));\n        },\n        placeholder: \"Repeat password\",\n        required: true,\n        className: \"pwd\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }), React.createElement(Link, {\n        to: routes.SIGN_IN,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"form-btn sx log-in\",\n        type: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Log In\")), React.createElement(\"button\", {\n        className: \"form-btn dx\",\n        type: \"submit\",\n        disabled: isInvalid,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"Sign Up\"), error && React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, error.message));\n    }\n  }]);\n\n  return SignUpForm;\n}(React.Component);\n\nexport default withRouter(SignUp);\nexport { SignUpForm };","map":{"version":3,"sources":["D:\\uni\\tamago\\ui\\src\\components\\StartPage\\SignForm\\SignUp.js"],"names":["React","Link","withRouter","auth","db","routes","SignUp","history","INITIAL_STATE","email","passwordOne","passwordTwo","error","byPropKey","propertyName","value","SignUpForm","props","onSubmit","event","state","doCreateUserWithEmailAndPassword","then","authUser","doCreateUser","user","uid","username","setState","push","PET","catch","preventDefault","isInvalid","target","SIGN_IN","message","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './login-style.css';\r\nimport { Link, withRouter, } from 'react-router-dom';\r\nimport { auth, db } from '../../../firebase';\r\nimport * as routes from './constants/routes.js';\r\n \r\nconst SignUp = ({ history }) => \r\n\t<div className=\"container\">\r\n\t\t<SignUpForm  history={history} />\r\n\t</div>\r\n\r\nconst INITIAL_STATE = \r\n{ \r\n\temail: '', \r\n\tpasswordOne: '', \r\n\tpasswordTwo: '', \r\n\terror: null, \r\n};\r\n\r\nconst byPropKey = (propertyName, value) => () => ({ \r\n\t[propertyName]: value, \r\n});\r\n\r\nclass SignUpForm extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = { ...INITIAL_STATE };\r\n\t}\r\n\r\nonSubmit = (event) => {\r\n\tconst {  \r\n\t\temail, \r\n\t\tpasswordOne, \r\n\t} = this.state;\r\n\r\n\tconst { \r\n\t\thistory, \r\n\t} = this.props;\r\n\r\n\tauth.doCreateUserWithEmailAndPassword(email, passwordOne) \r\n\t\t.then(authUser => { \r\n\t\t\tdb.doCreateUser(authUser.user.uid, username, email) \r\n\t\t\t\t.then(() => { \r\n\t\t\t\t\tthis.setState(() => ({ ...INITIAL_STATE })); \r\n\t\t\t\t\thistory.push(routes.PET); \r\n\t\t\t\t}) \r\n\t\t\t\t.catch(error => { \r\n\t\t\t\t\tthis.setState(byPropKey('error', error)); \r\n\t\t\t\t});\r\n\t\t})\r\n\t\t.catch(error => { \r\n\t\t\tthis.setState(byPropKey('error', error)); \r\n\t\t});\r\n\r\n\tevent.preventDefault();\r\n}\r\n\r\n\r\nrender() { \r\n\tconst { \r\n\t\temail, \r\n\t\tpasswordOne, \r\n\t\tpasswordTwo, \r\n\t\terror, \r\n\t} = this.state;\r\n\r\n\tconst isInvalid = passwordOne !== passwordTwo || passwordOne === '' || email === '';\r\n\r\n\treturn ( \r\n\t\t<form className=\"signUp\" onSubmit={this.onSubmit}>\r\n\t\t\t<h3>Create Your Account</h3>\r\n\t\t\t<p>Just enter your email address<br />\r\n\t\t\tand your password for join.\r\n\t\t\t</p>\r\n\t\t\t<input \r\n\t\t\tclassName=\"pwd\"\r\n\t\t\ttype=\"email\"\r\n\t\t\tvalue={email}\r\n\t\t\tonChange={event => this.setState(byPropKey('email', event.target.value))}\r\n\t\t    placeholder=\"Insert email\" \r\n\t\t\trequired\r\n\t\t\tautoComplete='off' />\r\n\t\t\t<input \r\n\t\t\ttype=\"password\" \r\n\t\t\tvalue={passwordOne}\r\n\t\t\tonChange={event => this.setState(byPropKey('passwordOne', event.target.value))}\r\n\t\t\tplaceholder=\"Insert password\" \r\n\t\t\trequired />\r\n\t\t\t<input \r\n\t\t\ttype=\"password\" \r\n\t\t\tvalue={passwordTwo}\r\n\t\t\tonChange={event => this.setState(byPropKey('passwordTwo', event.target.value))}\r\n\t\t\tplaceholder=\"Repeat password\" \r\n\t\t\trequired\r\n\t\t\tclassName=\"pwd\" />\r\n\t\t\t<Link to={routes.SIGN_IN}><button className=\"form-btn sx log-in\" type=\"button\">Log In</button></Link>\r\n\t\t\t<button className=\"form-btn dx\" type=\"submit\" disabled={isInvalid}>Sign Up</button>\r\n\r\n\t\t\t{ error && <p>{error.message}</p> } \r\n\t\t</form>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n\r\nexport default withRouter(SignUp);\r\n\r\nexport { \r\n\tSignUpForm, \r\n};\r\n"]},"metadata":{},"sourceType":"module"}