{"ast":null,"code":"import _classCallCheck from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"D:\\\\uni\\\\tamago\\\\ui\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"D:\\\\uni\\\\tamago\\\\ui\\\\src\\\\components\\\\HomePage\\\\PetSection\\\\PetCard\\\\CountdownTimers\\\\FoodTimer.js\";\nimport React from 'react';\n\nvar FoodTimer =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(FoodTimer, _React$Component);\n\n  function FoodTimer(props) {\n    var _this;\n\n    _classCallCheck(this, FoodTimer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FoodTimer).call(this, props));\n    _this.state = {\n      time: {},\n      seconds: 3599,\n      restart: false\n    };\n    _this.timer = 0;\n    _this.startTimer = _this.startTimer.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.countDown = _this.countDown.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.restartTimer = _this.restartTimer.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(FoodTimer, [{\n    key: \"secondsToTime\",\n    value: function secondsToTime(secs) {\n      var hours = Math.floor(secs / (60 * 60));\n      var divisor_for_minutes = secs % (60 * 60);\n      var minutes = Math.floor(divisor_for_minutes / 60);\n      var divisor_for_seconds = divisor_for_minutes % 60;\n      var seconds = Math.ceil(divisor_for_seconds);\n      var obj = {\n        \"h\": hours,\n        \"m\": minutes,\n        \"s\": seconds\n      };\n      return obj;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var timeLeftVar = this.secondsToTime(this.state.seconds);\n      this.setState({\n        time: timeLeftVar\n      });\n      this.startTimer();\n    }\n  }, {\n    key: \"startTimer\",\n    value: function startTimer() {\n      if (this.timer === 0 && this.state.seconds > 0) {\n        this.setState({\n          seconds: 3599\n        });\n        this.timer = setInterval(this.countDown, 1000);\n      }\n    }\n  }, {\n    key: \"restartTimer\",\n    value: function restartTimer() {\n      this.setState({\n        restart: true\n      });\n    }\n  }, {\n    key: \"countDown\",\n    value: function countDown() {\n      console.log(this.props.restart);\n\n      if (this.props.restart) {\n        this.restartTimer(); //boom info back, zeby zmienic restart na false <---\n\n        this.props.pls();\n      }\n\n      if (!this.state.restart) {\n        // Remove one second, set state so a re-render happens.\n        var seconds = this.state.seconds - 1;\n        this.setState({\n          time: this.secondsToTime(seconds),\n          seconds: seconds\n        }); // Check if we're at zero.\n\n        if (seconds === 0) {\n          clearInterval(this.timer); //PET DEAD\n        }\n      } else {\n        var _seconds = 3599;\n        this.setState({\n          restart: false,\n          time: this.secondsToTime(_seconds),\n          seconds: _seconds\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: this.restartTimer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"Restart\"), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, this.state.time.m, \" : \", this.state.time.s, this.props.restart));\n    }\n  }]);\n\n  return FoodTimer;\n}(React.Component);\n\nexport default FoodTimer;","map":{"version":3,"sources":["D:\\uni\\tamago\\ui\\src\\components\\HomePage\\PetSection\\PetCard\\CountdownTimers\\FoodTimer.js"],"names":["React","FoodTimer","props","state","time","seconds","restart","timer","startTimer","bind","countDown","restartTimer","secs","hours","Math","floor","divisor_for_minutes","minutes","divisor_for_seconds","ceil","obj","timeLeftVar","secondsToTime","setState","setInterval","console","log","pls","clearInterval","m","s","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\n\r\nclass FoodTimer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { \r\n      time: {}, \r\n      seconds: 3599,\r\n      restart: false,\r\n      };\r\n    this.timer = 0;\r\n    this.startTimer = this.startTimer.bind(this);\r\n    this.countDown = this.countDown.bind(this);\r\n    this.restartTimer = this.restartTimer.bind(this);\r\n  }\r\n\r\n  secondsToTime(secs){\r\n    let hours = Math.floor(secs / (60 * 60));\r\n\r\n    let divisor_for_minutes = secs % (60 * 60);\r\n    let minutes = Math.floor(divisor_for_minutes / 60);\r\n\r\n    let divisor_for_seconds = divisor_for_minutes % 60;\r\n    let seconds = Math.ceil(divisor_for_seconds);\r\n\r\n    let obj = {\r\n      \"h\": hours,\r\n      \"m\": minutes,\r\n      \"s\": seconds\r\n    };\r\n    return obj;\r\n  }\r\n\r\n  componentDidMount() {\r\n    let timeLeftVar = this.secondsToTime(this.state.seconds);\r\n    this.setState({ time: timeLeftVar });\r\n    this.startTimer();\r\n  }\r\n\r\n  startTimer() {\r\n    if (this.timer === 0 && this.state.seconds > 0) {\r\n      this.setState({\r\n        seconds: 3599,\r\n      });\r\n      this.timer = setInterval(this.countDown, 1000);      \r\n    }\r\n  }\r\n\r\n  restartTimer(){\r\n    this.setState({\r\n      restart: true,\r\n    });\r\n  }\r\n\r\n\r\n  countDown() {\r\n    console.log(this.props.restart);\r\n\r\n    if(this.props.restart){\r\n      this.restartTimer();\r\n      //boom info back, zeby zmienic restart na false <---\r\n      this.props.pls();\r\n    }\r\n\r\n\r\n    if(!this.state.restart){\r\n    // Remove one second, set state so a re-render happens.\r\n      let seconds = this.state.seconds - 1;\r\n      this.setState({\r\n        time: this.secondsToTime(seconds),\r\n        seconds: seconds,\r\n      });\r\n      // Check if we're at zero.\r\n      if (seconds === 0) { \r\n        clearInterval(this.timer);\r\n        //PET DEAD\r\n      }\r\n    }\r\n    else {\r\n      let seconds = 3599;\r\n      this.setState({\r\n        restart: false,\r\n        time: this.secondsToTime(seconds),\r\n        seconds: seconds,\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return(\r\n      <div>\r\n        <button onClick={this.restartTimer}>Restart</button>\r\n        <h3>\r\n          {this.state.time.m} : {this.state.time.s}\r\n          {this.props.restart}\r\n        </h3>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FoodTimer;"]},"metadata":{},"sourceType":"module"}